                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.7 #5820 (May  6 2010) (Linux)
                              4 ; This file was generated Fri Dec 17 01:43:32 2010
                              5 ;--------------------------------------------------------
                              6 	.module main
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _main
                             13 	.globl _check_radio_input
                             14 	.globl _check_radio_packet
                             15 	.globl _check_etx
                             16 	.globl _handle_tx
                             17 	.globl _re_enter_rx
                             18 	.globl _tx_finished
                             19 	.globl _start_tx
                             20 	.globl _start_rx
                             21 	.globl _rx_overflow_reset
                             22 	.globl _has_room
                             23 	.globl _buffer_out
                             24 	.globl _serial_isr
                             25 	.globl _buffer_init
                             26 	.globl _TCR20_0
                             27 	.globl _TCR20_1
                             28 	.globl _TCR20_2
                             29 	.globl _TCR20_3
                             30 	.globl _TCR20_4
                             31 	.globl _TCR20_5
                             32 	.globl _TCR20_6
                             33 	.globl _TCR20_7
                             34 	.globl _P3_0
                             35 	.globl _P3_1
                             36 	.globl _P2_0
                             37 	.globl _P2_1
                             38 	.globl _P2_2
                             39 	.globl _P2_3
                             40 	.globl _P2_4
                             41 	.globl _P2_5
                             42 	.globl _P2_6
                             43 	.globl _P2_7
                             44 	.globl _P1_0
                             45 	.globl _P1_1
                             46 	.globl _P1_2
                             47 	.globl _P1_3
                             48 	.globl _P1_4
                             49 	.globl _P1_5
                             50 	.globl _P1_6
                             51 	.globl _P1_7
                             52 	.globl _P0_0
                             53 	.globl _P0_1
                             54 	.globl _P0_2
                             55 	.globl _P0_3
                             56 	.globl _P0_4
                             57 	.globl _P0_5
                             58 	.globl _P0_6
                             59 	.globl _P0_7
                             60 	.globl _I2CON_0
                             61 	.globl _I2CON_2
                             62 	.globl _I2CON_3
                             63 	.globl _I2CON_4
                             64 	.globl _I2CON_5
                             65 	.globl _I2CON_6
                             66 	.globl _SCON_0
                             67 	.globl _SCON_1
                             68 	.globl _SCON_2
                             69 	.globl _SCON_3
                             70 	.globl _SCON_4
                             71 	.globl _SCON_5
                             72 	.globl _SCON_6
                             73 	.globl _SCON_7
                             74 	.globl _IP0_0
                             75 	.globl _IP0_1
                             76 	.globl _IP0_2
                             77 	.globl _IP0_3
                             78 	.globl _IP0_4
                             79 	.globl _IP0_5
                             80 	.globl _IP0_6
                             81 	.globl _IEN1_0
                             82 	.globl _IEN1_1
                             83 	.globl _IEN1_2
                             84 	.globl _IEN1_3
                             85 	.globl _IEN1_4
                             86 	.globl _IEN1_6
                             87 	.globl _IEN1_7
                             88 	.globl _IEN0_0
                             89 	.globl _IEN0_1
                             90 	.globl _IEN0_2
                             91 	.globl _IEN0_3
                             92 	.globl _IEN0_4
                             93 	.globl _IEN0_5
                             94 	.globl _IEN0_6
                             95 	.globl _IEN0_7
                             96 	.globl _TCON_0
                             97 	.globl _TCON_1
                             98 	.globl _TCON_2
                             99 	.globl _TCON_3
                            100 	.globl _TCON_4
                            101 	.globl _TCON_5
                            102 	.globl _TCON_6
                            103 	.globl _TCON_7
                            104 	.globl _PSW_0
                            105 	.globl _PSW_1
                            106 	.globl _PSW_2
                            107 	.globl _PSW_3
                            108 	.globl _PSW_4
                            109 	.globl _PSW_5
                            110 	.globl _PSW_6
                            111 	.globl _PSW_7
                            112 	.globl _CMP2_
                            113 	.globl _IP0H
                            114 	.globl _WFEED2
                            115 	.globl _WFEED1
                            116 	.globl _WDL
                            117 	.globl _WDCON
                            118 	.globl _TRIM
                            119 	.globl _TPCR2L
                            120 	.globl _TPCR2H
                            121 	.globl _TOR2L
                            122 	.globl _TOR2H
                            123 	.globl _TISE2
                            124 	.globl _TIFR2
                            125 	.globl _TICR2
                            126 	.globl _TCR21
                            127 	.globl _TCR20
                            128 	.globl _TAMOD
                            129 	.globl _SPDAT
                            130 	.globl _SPSTAT
                            131 	.globl _SPCTL
                            132 	.globl _SSTAT
                            133 	.globl _RTCL
                            134 	.globl _RTCH
                            135 	.globl _RTCCON
                            136 	.globl _RSTSRC
                            137 	.globl _PT0AD
                            138 	.globl _PCONA
                            139 	.globl _P3M2
                            140 	.globl _P3M1
                            141 	.globl _P2M2
                            142 	.globl _P2M1
                            143 	.globl _P1M2
                            144 	.globl _P1M1
                            145 	.globl _P0M2
                            146 	.globl _P0M1
                            147 	.globl _OCRDL
                            148 	.globl _OCRDH
                            149 	.globl _OCRCL
                            150 	.globl _OCRCH
                            151 	.globl _OCRBL
                            152 	.globl _OCRBH
                            153 	.globl _OCRAL
                            154 	.globl _OCRAH
                            155 	.globl _KBPATN
                            156 	.globl _KBMASK
                            157 	.globl _KBCON
                            158 	.globl _IP1H
                            159 	.globl _IP1
                            160 	.globl _IEN1
                            161 	.globl _ICRBL
                            162 	.globl _ICRBH
                            163 	.globl _ICRAL
                            164 	.globl _ICRAH
                            165 	.globl _I2STAT
                            166 	.globl _I2SCLL
                            167 	.globl _I2SCLH
                            168 	.globl _I2DAT
                            169 	.globl _I2CON
                            170 	.globl _I2ADR
                            171 	.globl _DIVM
                            172 	.globl _DEEADR
                            173 	.globl _DEEDAT
                            174 	.globl _DEECON
                            175 	.globl _CMP2
                            176 	.globl _CMP1
                            177 	.globl _CCCRD
                            178 	.globl _CCCRC
                            179 	.globl _CCCRB
                            180 	.globl _CCCRA
                            181 	.globl _BRGCON
                            182 	.globl _BRGR1
                            183 	.globl _BRGR0
                            184 	.globl _TH2
                            185 	.globl _TL2
                            186 	.globl _SADEN
                            187 	.globl _SADDR
                            188 	.globl _AUXR1
                            189 	.globl _SBUF
                            190 	.globl _SCON
                            191 	.globl _IP0
                            192 	.globl _IEN0
                            193 	.globl _TH1
                            194 	.globl _TH0
                            195 	.globl _TL1
                            196 	.globl _TL0
                            197 	.globl _TMOD
                            198 	.globl _TCON
                            199 	.globl _PCON
                            200 	.globl _DPH
                            201 	.globl _DPL
                            202 	.globl _SP
                            203 	.globl _B
                            204 	.globl _ACC
                            205 	.globl _PSW
                            206 	.globl _P3
                            207 	.globl _P2
                            208 	.globl _P1
                            209 	.globl _P0
                            210 	.globl _got_eot
                            211 	.globl _got_etx
                            212 	.globl _buf
                            213 	.globl _bufnxt
                            214 	.globl _bufcnt
                            215 	.globl _bufstart
                            216 	.globl _radio_mode
                            217 ;--------------------------------------------------------
                            218 ; special function registers
                            219 ;--------------------------------------------------------
                            220 	.area RSEG    (ABS,DATA)
   0000                     221 	.org 0x0000
                    0080    222 _P0	=	0x0080
                    0090    223 _P1	=	0x0090
                    00A0    224 _P2	=	0x00a0
                    00B0    225 _P3	=	0x00b0
                    00D0    226 _PSW	=	0x00d0
                    00E0    227 _ACC	=	0x00e0
                    00F0    228 _B	=	0x00f0
                    0081    229 _SP	=	0x0081
                    0082    230 _DPL	=	0x0082
                    0083    231 _DPH	=	0x0083
                    0087    232 _PCON	=	0x0087
                    0088    233 _TCON	=	0x0088
                    0089    234 _TMOD	=	0x0089
                    008A    235 _TL0	=	0x008a
                    008B    236 _TL1	=	0x008b
                    008C    237 _TH0	=	0x008c
                    008D    238 _TH1	=	0x008d
                    00A8    239 _IEN0	=	0x00a8
                    00B8    240 _IP0	=	0x00b8
                    0098    241 _SCON	=	0x0098
                    0099    242 _SBUF	=	0x0099
                    00A2    243 _AUXR1	=	0x00a2
                    00A9    244 _SADDR	=	0x00a9
                    00B9    245 _SADEN	=	0x00b9
                    00CC    246 _TL2	=	0x00cc
                    00CD    247 _TH2	=	0x00cd
                    00BE    248 _BRGR0	=	0x00be
                    00BF    249 _BRGR1	=	0x00bf
                    00BD    250 _BRGCON	=	0x00bd
                    00EA    251 _CCCRA	=	0x00ea
                    00EB    252 _CCCRB	=	0x00eb
                    00EC    253 _CCCRC	=	0x00ec
                    00ED    254 _CCCRD	=	0x00ed
                    00AC    255 _CMP1	=	0x00ac
                    00AD    256 _CMP2	=	0x00ad
                    00F1    257 _DEECON	=	0x00f1
                    00F2    258 _DEEDAT	=	0x00f2
                    00F3    259 _DEEADR	=	0x00f3
                    0095    260 _DIVM	=	0x0095
                    00DB    261 _I2ADR	=	0x00db
                    00D8    262 _I2CON	=	0x00d8
                    00DA    263 _I2DAT	=	0x00da
                    00DD    264 _I2SCLH	=	0x00dd
                    00DC    265 _I2SCLL	=	0x00dc
                    00D9    266 _I2STAT	=	0x00d9
                    00AB    267 _ICRAH	=	0x00ab
                    00AA    268 _ICRAL	=	0x00aa
                    00AF    269 _ICRBH	=	0x00af
                    00AE    270 _ICRBL	=	0x00ae
                    00E8    271 _IEN1	=	0x00e8
                    00F8    272 _IP1	=	0x00f8
                    00F7    273 _IP1H	=	0x00f7
                    0094    274 _KBCON	=	0x0094
                    0086    275 _KBMASK	=	0x0086
                    0093    276 _KBPATN	=	0x0093
                    00EF    277 _OCRAH	=	0x00ef
                    00EE    278 _OCRAL	=	0x00ee
                    00FB    279 _OCRBH	=	0x00fb
                    00FA    280 _OCRBL	=	0x00fa
                    00FD    281 _OCRCH	=	0x00fd
                    00FC    282 _OCRCL	=	0x00fc
                    00FF    283 _OCRDH	=	0x00ff
                    00FE    284 _OCRDL	=	0x00fe
                    0084    285 _P0M1	=	0x0084
                    0085    286 _P0M2	=	0x0085
                    0091    287 _P1M1	=	0x0091
                    0092    288 _P1M2	=	0x0092
                    00A4    289 _P2M1	=	0x00a4
                    00A5    290 _P2M2	=	0x00a5
                    00B1    291 _P3M1	=	0x00b1
                    00B2    292 _P3M2	=	0x00b2
                    00B5    293 _PCONA	=	0x00b5
                    00F6    294 _PT0AD	=	0x00f6
                    00DF    295 _RSTSRC	=	0x00df
                    00D1    296 _RTCCON	=	0x00d1
                    00D2    297 _RTCH	=	0x00d2
                    00D3    298 _RTCL	=	0x00d3
                    00BA    299 _SSTAT	=	0x00ba
                    00E2    300 _SPCTL	=	0x00e2
                    00E1    301 _SPSTAT	=	0x00e1
                    00E3    302 _SPDAT	=	0x00e3
                    008F    303 _TAMOD	=	0x008f
                    00C8    304 _TCR20	=	0x00c8
                    00F9    305 _TCR21	=	0x00f9
                    00C9    306 _TICR2	=	0x00c9
                    00E9    307 _TIFR2	=	0x00e9
                    00DE    308 _TISE2	=	0x00de
                    00CF    309 _TOR2H	=	0x00cf
                    00CE    310 _TOR2L	=	0x00ce
                    00CB    311 _TPCR2H	=	0x00cb
                    00CA    312 _TPCR2L	=	0x00ca
                    0096    313 _TRIM	=	0x0096
                    00A7    314 _WDCON	=	0x00a7
                    00C1    315 _WDL	=	0x00c1
                    00C2    316 _WFEED1	=	0x00c2
                    00C3    317 _WFEED2	=	0x00c3
                    00B7    318 _IP0H	=	0x00b7
                    00AD    319 _CMP2_	=	0x00ad
                            320 ;--------------------------------------------------------
                            321 ; special function bits
                            322 ;--------------------------------------------------------
                            323 	.area RSEG    (ABS,DATA)
   0000                     324 	.org 0x0000
                    00D7    325 _PSW_7	=	0x00d7
                    00D6    326 _PSW_6	=	0x00d6
                    00D5    327 _PSW_5	=	0x00d5
                    00D4    328 _PSW_4	=	0x00d4
                    00D3    329 _PSW_3	=	0x00d3
                    00D2    330 _PSW_2	=	0x00d2
                    00D1    331 _PSW_1	=	0x00d1
                    00D0    332 _PSW_0	=	0x00d0
                    008F    333 _TCON_7	=	0x008f
                    008E    334 _TCON_6	=	0x008e
                    008D    335 _TCON_5	=	0x008d
                    008C    336 _TCON_4	=	0x008c
                    008B    337 _TCON_3	=	0x008b
                    008A    338 _TCON_2	=	0x008a
                    0089    339 _TCON_1	=	0x0089
                    0088    340 _TCON_0	=	0x0088
                    00AF    341 _IEN0_7	=	0x00af
                    00AE    342 _IEN0_6	=	0x00ae
                    00AD    343 _IEN0_5	=	0x00ad
                    00AC    344 _IEN0_4	=	0x00ac
                    00AB    345 _IEN0_3	=	0x00ab
                    00AA    346 _IEN0_2	=	0x00aa
                    00A9    347 _IEN0_1	=	0x00a9
                    00A8    348 _IEN0_0	=	0x00a8
                    00EF    349 _IEN1_7	=	0x00ef
                    00EE    350 _IEN1_6	=	0x00ee
                    00EC    351 _IEN1_4	=	0x00ec
                    00EB    352 _IEN1_3	=	0x00eb
                    00EA    353 _IEN1_2	=	0x00ea
                    00E9    354 _IEN1_1	=	0x00e9
                    00E8    355 _IEN1_0	=	0x00e8
                    00BE    356 _IP0_6	=	0x00be
                    00BD    357 _IP0_5	=	0x00bd
                    00BC    358 _IP0_4	=	0x00bc
                    00BB    359 _IP0_3	=	0x00bb
                    00BA    360 _IP0_2	=	0x00ba
                    00B9    361 _IP0_1	=	0x00b9
                    00B8    362 _IP0_0	=	0x00b8
                    009F    363 _SCON_7	=	0x009f
                    009E    364 _SCON_6	=	0x009e
                    009D    365 _SCON_5	=	0x009d
                    009C    366 _SCON_4	=	0x009c
                    009B    367 _SCON_3	=	0x009b
                    009A    368 _SCON_2	=	0x009a
                    0099    369 _SCON_1	=	0x0099
                    0098    370 _SCON_0	=	0x0098
                    00DE    371 _I2CON_6	=	0x00de
                    00DD    372 _I2CON_5	=	0x00dd
                    00DC    373 _I2CON_4	=	0x00dc
                    00DB    374 _I2CON_3	=	0x00db
                    00DA    375 _I2CON_2	=	0x00da
                    00D8    376 _I2CON_0	=	0x00d8
                    0087    377 _P0_7	=	0x0087
                    0086    378 _P0_6	=	0x0086
                    0085    379 _P0_5	=	0x0085
                    0084    380 _P0_4	=	0x0084
                    0083    381 _P0_3	=	0x0083
                    0082    382 _P0_2	=	0x0082
                    0081    383 _P0_1	=	0x0081
                    0080    384 _P0_0	=	0x0080
                    0097    385 _P1_7	=	0x0097
                    0096    386 _P1_6	=	0x0096
                    0095    387 _P1_5	=	0x0095
                    0094    388 _P1_4	=	0x0094
                    0093    389 _P1_3	=	0x0093
                    0092    390 _P1_2	=	0x0092
                    0091    391 _P1_1	=	0x0091
                    0090    392 _P1_0	=	0x0090
                    00A7    393 _P2_7	=	0x00a7
                    00A6    394 _P2_6	=	0x00a6
                    00A5    395 _P2_5	=	0x00a5
                    00A4    396 _P2_4	=	0x00a4
                    00A3    397 _P2_3	=	0x00a3
                    00A2    398 _P2_2	=	0x00a2
                    00A1    399 _P2_1	=	0x00a1
                    00A0    400 _P2_0	=	0x00a0
                    00B1    401 _P3_1	=	0x00b1
                    00B0    402 _P3_0	=	0x00b0
                    00CF    403 _TCR20_7	=	0x00cf
                    00CE    404 _TCR20_6	=	0x00ce
                    00CD    405 _TCR20_5	=	0x00cd
                    00CC    406 _TCR20_4	=	0x00cc
                    00CB    407 _TCR20_3	=	0x00cb
                    00CA    408 _TCR20_2	=	0x00ca
                    00C9    409 _TCR20_1	=	0x00c9
                    00C8    410 _TCR20_0	=	0x00c8
                            411 ;--------------------------------------------------------
                            412 ; overlayable register banks
                            413 ;--------------------------------------------------------
                            414 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                     415 	.ds 8
                            416 ;--------------------------------------------------------
                            417 ; internal ram data
                            418 ;--------------------------------------------------------
                            419 	.area DSEG    (DATA)
   0000                     420 _radio_mode::
   0000                     421 	.ds 1
   0001                     422 _bufstart::
   0001                     423 	.ds 1
   0002                     424 _bufcnt::
   0002                     425 	.ds 1
   0003                     426 _bufnxt::
   0003                     427 	.ds 1
   0004                     428 _handle_tx_tx_state_1_1:
   0004                     429 	.ds 1
   0005                     430 _handle_tx_tx_cnt_1_1:
   0005                     431 	.ds 1
   0006                     432 _check_radio_packet_x_1_1:
   0006                     433 	.ds 1
   0007                     434 _check_radio_packet_length_1_1:
   0007                     435 	.ds 1
   0008                     436 _check_radio_packet_address_1_1:
   0008                     437 	.ds 1
   0009                     438 _check_radio_input_length_1_1:
   0009                     439 	.ds 1
   000A                     440 _check_radio_input_address_1_1:
   000A                     441 	.ds 1
   000B                     442 _check_radio_input_x_1_1:
   000B                     443 	.ds 1
                            444 ;--------------------------------------------------------
                            445 ; overlayable items in internal ram 
                            446 ;--------------------------------------------------------
                            447 	.area	OSEG    (OVR,DATA)
                            448 ;--------------------------------------------------------
                            449 ; Stack segment in internal ram 
                            450 ;--------------------------------------------------------
                            451 	.area	SSEG	(DATA)
   0000                     452 __start__stack:
   0000                     453 	.ds	1
                            454 
                            455 ;--------------------------------------------------------
                            456 ; indirectly addressable internal ram data
                            457 ;--------------------------------------------------------
                            458 	.area ISEG    (DATA)
   0000                     459 _buf::
   0000                     460 	.ds 78
                            461 ;--------------------------------------------------------
                            462 ; absolute internal ram data
                            463 ;--------------------------------------------------------
                            464 	.area IABS    (ABS,DATA)
                            465 	.area IABS    (ABS,DATA)
                            466 ;--------------------------------------------------------
                            467 ; bit data
                            468 ;--------------------------------------------------------
                            469 	.area BSEG    (BIT)
   0000                     470 _got_etx::
   0000                     471 	.ds 1
   0001                     472 _got_eot::
   0001                     473 	.ds 1
                            474 ;--------------------------------------------------------
                            475 ; paged external ram data
                            476 ;--------------------------------------------------------
                            477 	.area PSEG    (PAG,XDATA)
                            478 ;--------------------------------------------------------
                            479 ; external ram data
                            480 ;--------------------------------------------------------
                            481 	.area XSEG    (XDATA)
                            482 ;--------------------------------------------------------
                            483 ; absolute external ram data
                            484 ;--------------------------------------------------------
                            485 	.area XABS    (ABS,XDATA)
                            486 ;--------------------------------------------------------
                            487 ; external initialized ram data
                            488 ;--------------------------------------------------------
                            489 	.area XISEG   (XDATA)
                            490 	.area HOME    (CODE)
                            491 	.area GSINIT0 (CODE)
                            492 	.area GSINIT1 (CODE)
                            493 	.area GSINIT2 (CODE)
                            494 	.area GSINIT3 (CODE)
                            495 	.area GSINIT4 (CODE)
                            496 	.area GSINIT5 (CODE)
                            497 	.area GSINIT  (CODE)
                            498 	.area GSFINAL (CODE)
                            499 	.area CSEG    (CODE)
                            500 ;--------------------------------------------------------
                            501 ; interrupt vector 
                            502 ;--------------------------------------------------------
                            503 	.area HOME    (CODE)
   0000                     504 __interrupt_vect:
   0000 02s00r00            505 	ljmp	__sdcc_gsinit_startup
   0003 32                  506 	reti
   0004                     507 	.ds	7
   000B 32                  508 	reti
   000C                     509 	.ds	7
   0013 32                  510 	reti
   0014                     511 	.ds	7
   001B 32                  512 	reti
   001C                     513 	.ds	7
   0023 02s00r0A            514 	ljmp	_serial_isr
                            515 ;--------------------------------------------------------
                            516 ; global & static initialisations
                            517 ;--------------------------------------------------------
                            518 	.area HOME    (CODE)
                            519 	.area GSINIT  (CODE)
                            520 	.area GSFINAL (CODE)
                            521 	.area GSINIT  (CODE)
                            522 	.globl __sdcc_gsinit_startup
                            523 	.globl __sdcc_program_startup
                            524 	.globl __start__stack
                            525 	.globl __mcs51_genXINIT
                            526 	.globl __mcs51_genXRAMCLEAR
                            527 	.globl __mcs51_genRAMCLEAR
                            528 ;------------------------------------------------------------
                            529 ;Allocation info for local variables in function 'handle_tx'
                            530 ;------------------------------------------------------------
                            531 ;tx_state                  Allocated with name '_handle_tx_tx_state_1_1'
                            532 ;tx_cnt                    Allocated with name '_handle_tx_tx_cnt_1_1'
                            533 ;x                         Allocated to registers 
                            534 ;------------------------------------------------------------
                            535 ;	main.c:325: static unsigned char tx_state = TX_IDLE;
   0000 75*04 00            536 	mov	_handle_tx_tx_state_1_1,#0x00
                            537 ;------------------------------------------------------------
                            538 ;Allocation info for local variables in function 'check_radio_input'
                            539 ;------------------------------------------------------------
                            540 ;length                    Allocated with name '_check_radio_input_length_1_1'
                            541 ;address                   Allocated with name '_check_radio_input_address_1_1'
                            542 ;n                         Allocated to registers r2 
                            543 ;x                         Allocated with name '_check_radio_input_x_1_1'
                            544 ;------------------------------------------------------------
                            545 ;	main.c:438: static unsigned char length = 0;
   0003 75*09 00            546 	mov	_check_radio_input_length_1_1,#0x00
                            547 	.area GSFINAL (CODE)
   0000 02s00r26            548 	ljmp	__sdcc_program_startup
                            549 ;--------------------------------------------------------
                            550 ; Home
                            551 ;--------------------------------------------------------
                            552 	.area HOME    (CODE)
                            553 	.area HOME    (CODE)
   0026                     554 __sdcc_program_startup:
   0026 12s02rA8            555 	lcall	_main
                            556 ;	return from main will lock up
   0029 80 FE               557 	sjmp .
                            558 ;--------------------------------------------------------
                            559 ; code
                            560 ;--------------------------------------------------------
                            561 	.area CSEG    (CODE)
                            562 ;------------------------------------------------------------
                            563 ;Allocation info for local variables in function 'buffer_init'
                            564 ;------------------------------------------------------------
                            565 ;------------------------------------------------------------
                            566 ;	main.c:155: void buffer_init(){
                            567 ;	-----------------------------------------
                            568 ;	 function buffer_init
                            569 ;	-----------------------------------------
   0000                     570 _buffer_init:
                    0002    571 	ar2 = 0x02
                    0003    572 	ar3 = 0x03
                    0004    573 	ar4 = 0x04
                    0005    574 	ar5 = 0x05
                    0006    575 	ar6 = 0x06
                    0007    576 	ar7 = 0x07
                    0000    577 	ar0 = 0x00
                    0001    578 	ar1 = 0x01
                            579 ;	main.c:156: bufcnt = 0;			// Number of bytes in the buffer
   0000 75*02 00            580 	mov	_bufcnt,#0x00
                            581 ;	main.c:157: bufnxt = 0;			// Index of next free place in buffer
   0003 75*03 00            582 	mov	_bufnxt,#0x00
                            583 ;	main.c:158: bufstart = 0;		// Index of first data byte in buffer
   0006 75*01 00            584 	mov	_bufstart,#0x00
   0009 22                  585 	ret
                            586 ;------------------------------------------------------------
                            587 ;Allocation info for local variables in function 'serial_isr'
                            588 ;------------------------------------------------------------
                            589 ;x                         Allocated to registers r2 
                            590 ;------------------------------------------------------------
                            591 ;	main.c:174: void serial_isr (void) __interrupt (4) {
                            592 ;	-----------------------------------------
                            593 ;	 function serial_isr
                            594 ;	-----------------------------------------
   000A                     595 _serial_isr:
   000A C0 E0               596 	push	acc
   000C C0 02               597 	push	ar2
   000E C0 03               598 	push	ar3
   0010 C0 00               599 	push	ar0
   0012 C0 D0               600 	push	psw
   0014 75 D0 00            601 	mov	psw,#0x00
                            602 ;	main.c:177: x=SBUF;
   0017 AA 99               603 	mov	r2,_SBUF
                            604 ;	main.c:178: RI = 0;
   0019 C2 98               605 	clr	_SCON_0
                            606 ;	main.c:183: if (x == ETX){
   001B BA 03 04            607 	cjne	r2,#0x03,00102$
                            608 ;	main.c:184: got_etx = 1;
   001E D2*00               609 	setb	_got_etx
                            610 ;	main.c:185: return;
   0020 80 32               611 	sjmp	00114$
   0022                     612 00102$:
                            613 ;	main.c:189: if (got_eot){
   0022 30*01 02            614 	jnb	_got_eot,00104$
                            615 ;	main.c:190: return;
   0025 80 2D               616 	sjmp	00114$
   0027                     617 00104$:
                            618 ;	main.c:194: if (bufcnt >= BUFSIZE){
   0027 74 B2               619 	mov	a,#0x100 - 0x4E
   0029 25*02               620 	add	a,_bufcnt
   002B 50 0D               621 	jnc	00109$
                            622 ;	main.c:195: bufcnt--;
   002D 15*02               623 	dec	_bufcnt
                            624 ;	main.c:197: if (bufnxt == 0)
   002F E5*03               625 	mov	a,_bufnxt
   0031 70 05               626 	jnz	00106$
                            627 ;	main.c:198: bufnxt = BUFSIZE-1;
   0033 75*03 4D            628 	mov	_bufnxt,#0x4D
   0036 80 02               629 	sjmp	00109$
   0038                     630 00106$:
                            631 ;	main.c:200: bufnxt--;
   0038 15*03               632 	dec	_bufnxt
   003A                     633 00109$:
                            634 ;	main.c:204: buf[bufnxt++] = x;
   003A AB*03               635 	mov	r3,_bufnxt
   003C 05*03               636 	inc	_bufnxt
   003E EB                  637 	mov	a,r3
   003F 24r00               638 	add	a,#_buf
   0041 F8                  639 	mov	r0,a
   0042 A6 02               640 	mov	@r0,ar2
                            641 ;	main.c:205: if (bufnxt >= BUFSIZE)
   0044 74 B2               642 	mov	a,#0x100 - 0x4E
   0046 25*03               643 	add	a,_bufnxt
   0048 50 03               644 	jnc	00111$
                            645 ;	main.c:206: bufnxt = 0;
   004A 75*03 00            646 	mov	_bufnxt,#0x00
   004D                     647 00111$:
                            648 ;	main.c:207: bufcnt++;
   004D 05*02               649 	inc	_bufcnt
                            650 ;	main.c:209: if (x == EOT)
   004F BA 04 02            651 	cjne	r2,#0x04,00113$
                            652 ;	main.c:210: got_eot = 1;
   0052 D2*01               653 	setb	_got_eot
   0054                     654 00113$:
                            655 ;	main.c:212: return;
   0054                     656 00114$:
   0054 D0 D0               657 	pop	psw
   0056 D0 00               658 	pop	ar0
   0058 D0 03               659 	pop	ar3
   005A D0 02               660 	pop	ar2
   005C D0 E0               661 	pop	acc
   005E 32                  662 	reti
                            663 ;	eliminated unneeded push/pop ar1
                            664 ;	eliminated unneeded push/pop dpl
                            665 ;	eliminated unneeded push/pop dph
                            666 ;	eliminated unneeded push/pop b
                            667 ;------------------------------------------------------------
                            668 ;Allocation info for local variables in function 'buffer_out'
                            669 ;------------------------------------------------------------
                            670 ;x                         Allocated to registers r2 
                            671 ;------------------------------------------------------------
                            672 ;	main.c:219: char buffer_out(){
                            673 ;	-----------------------------------------
                            674 ;	 function buffer_out
                            675 ;	-----------------------------------------
   005F                     676 _buffer_out:
                            677 ;	main.c:222: if (bufcnt == 0) return (0);
   005F E5*02               678 	mov	a,_bufcnt
   0061 70 03               679 	jnz	00102$
   0063 F5 82               680 	mov	dpl,a
   0065 22                  681 	ret
   0066                     682 00102$:
                            683 ;	main.c:223: x = buf[bufstart++];
   0066 AA*01               684 	mov	r2,_bufstart
   0068 05*01               685 	inc	_bufstart
   006A EA                  686 	mov	a,r2
   006B 24r00               687 	add	a,#_buf
   006D F8                  688 	mov	r0,a
   006E 86 02               689 	mov	ar2,@r0
                            690 ;	main.c:224: if (bufstart >= BUFSIZE)
   0070 74 B2               691 	mov	a,#0x100 - 0x4E
   0072 25*01               692 	add	a,_bufstart
   0074 50 03               693 	jnc	00104$
                            694 ;	main.c:225: bufstart = 0;
   0076 75*01 00            695 	mov	_bufstart,#0x00
   0079                     696 00104$:
                            697 ;	main.c:228: bufcnt--;
   0079 15*02               698 	dec	_bufcnt
                            699 ;	main.c:230: return x;
   007B 8A 82               700 	mov	dpl,r2
   007D 22                  701 	ret
                            702 ;------------------------------------------------------------
                            703 ;Allocation info for local variables in function 'has_room'
                            704 ;------------------------------------------------------------
                            705 ;------------------------------------------------------------
                            706 ;	main.c:247: unsigned char has_room(){
                            707 ;	-----------------------------------------
                            708 ;	 function has_room
                            709 ;	-----------------------------------------
   007E                     710 _has_room:
                            711 ;	main.c:248: return ( (BUFSIZE - bufcnt) > (MPDTOOL_PKTSIZE + 2) );
   007E AA*02               712 	mov	r2,_bufcnt
   0080 7B 00               713 	mov	r3,#0x00
   0082 74 4E               714 	mov	a,#0x4E
   0084 C3                  715 	clr	c
   0085 9A                  716 	subb	a,r2
   0086 FA                  717 	mov	r2,a
   0087 E4                  718 	clr	a
   0088 9B                  719 	subb	a,r3
   0089 FB                  720 	mov	r3,a
   008A C3                  721 	clr	c
   008B 74 12               722 	mov	a,#0x12
   008D 9A                  723 	subb	a,r2
   008E 74 80               724 	mov	a,#(0x00 ^ 0x80)
   0090 8B F0               725 	mov	b,r3
   0092 63 F0 80            726 	xrl	b,#0x80
   0095 95 F0               727 	subb	a,b
   0097 E4                  728 	clr	a
   0098 33                  729 	rlc	a
   0099 F5 82               730 	mov	dpl,a
   009B 22                  731 	ret
                            732 ;------------------------------------------------------------
                            733 ;Allocation info for local variables in function 'rx_overflow_reset'
                            734 ;------------------------------------------------------------
                            735 ;------------------------------------------------------------
                            736 ;	main.c:258: rx_overflow_reset(){
                            737 ;	-----------------------------------------
                            738 ;	 function rx_overflow_reset
                            739 ;	-----------------------------------------
   009C                     740 _rx_overflow_reset:
                            741 ;	main.c:259: if ( (cc1100_read_status_reg_otf(MARCSTATE) & 0x1f) == RX_OVERFLOW){
   009C 75 82 F5            742 	mov	dpl,#0xF5
   009F 12s00r00            743 	lcall	_cc1100_read_status_reg_otf
   00A2 E5 82               744 	mov	a,dpl
   00A4 54 1F               745 	anl	a,#0x1F
   00A6 FA                  746 	mov	r2,a
   00A7 BA 11 0C            747 	cjne	r2,#0x11,00103$
                            748 ;	main.c:260: cc1100_strobe(SFRX);
   00AA 75 82 3A            749 	mov	dpl,#0x3A
   00AD 12s00r00            750 	lcall	_cc1100_strobe
                            751 ;	main.c:261: cc1100_strobe(SRX);
   00B0 75 82 34            752 	mov	dpl,#0x34
   00B3 02s00r00            753 	ljmp	_cc1100_strobe
   00B6                     754 00103$:
   00B6 22                  755 	ret
                            756 ;------------------------------------------------------------
                            757 ;Allocation info for local variables in function 'start_rx'
                            758 ;------------------------------------------------------------
                            759 ;------------------------------------------------------------
                            760 ;	main.c:267: void start_rx() {
                            761 ;	-----------------------------------------
                            762 ;	 function start_rx
                            763 ;	-----------------------------------------
   00B7                     764 _start_rx:
                            765 ;	main.c:269: rx_overflow_reset();
   00B7 12s00r9C            766 	lcall	_rx_overflow_reset
                            767 ;	main.c:270: switch_to_idle();
   00BA 12s00r00            768 	lcall	_switch_to_idle
                            769 ;	main.c:272: cc1100_strobe(SFRX);
   00BD 75 82 3A            770 	mov	dpl,#0x3A
   00C0 12s00r00            771 	lcall	_cc1100_strobe
                            772 ;	main.c:273: cc1100_strobe(SCAL);
   00C3 75 82 33            773 	mov	dpl,#0x33
   00C6 12s00r00            774 	lcall	_cc1100_strobe
                            775 ;	main.c:274: cc1100_strobe(SRX);
   00C9 75 82 34            776 	mov	dpl,#0x34
   00CC 12s00r00            777 	lcall	_cc1100_strobe
                            778 ;	main.c:275: radio_mode = RADIO_RX;
   00CF 75*00 01            779 	mov	_radio_mode,#0x01
   00D2 22                  780 	ret
                            781 ;------------------------------------------------------------
                            782 ;Allocation info for local variables in function 'start_tx'
                            783 ;------------------------------------------------------------
                            784 ;------------------------------------------------------------
                            785 ;	main.c:280: void start_tx() {	
                            786 ;	-----------------------------------------
                            787 ;	 function start_tx
                            788 ;	-----------------------------------------
   00D3                     789 _start_tx:
                            790 ;	main.c:281: rx_overflow_reset();
   00D3 12s00r9C            791 	lcall	_rx_overflow_reset
                            792 ;	main.c:282: switch_to_idle();
   00D6 12s00r00            793 	lcall	_switch_to_idle
                            794 ;	main.c:284: cc1100_strobe(SCAL);
   00D9 75 82 33            795 	mov	dpl,#0x33
   00DC 12s00r00            796 	lcall	_cc1100_strobe
                            797 ;	main.c:285: cc1100_strobe(STX);
   00DF 75 82 35            798 	mov	dpl,#0x35
   00E2 12s00r00            799 	lcall	_cc1100_strobe
                            800 ;	main.c:286: radio_mode = RADIO_TX;
   00E5 75*00 02            801 	mov	_radio_mode,#0x02
   00E8 22                  802 	ret
                            803 ;------------------------------------------------------------
                            804 ;Allocation info for local variables in function 'tx_finished'
                            805 ;------------------------------------------------------------
                            806 ;------------------------------------------------------------
                            807 ;	main.c:290: unsigned char tx_finished(){
                            808 ;	-----------------------------------------
                            809 ;	 function tx_finished
                            810 ;	-----------------------------------------
   00E9                     811 _tx_finished:
                            812 ;	main.c:291: return ( (cc1100_read_status_reg_otf(TXBYTES) & 0x7f) == 0  &&
   00E9 75 82 FA            813 	mov	dpl,#0xFA
   00EC 12s00r00            814 	lcall	_cc1100_read_status_reg_otf
   00EF E5 82               815 	mov	a,dpl
   00F1 54 7F               816 	anl	a,#0x7F
   00F3 FA                  817 	mov	r2,a
   00F4 60 02               818 	jz	00108$
   00F6 80 0D               819 	sjmp	00103$
   00F8                     820 00108$:
                            821 ;	main.c:292: ( (cc1100_read1(PKTSTATUS | BURST) & (1<<2)) == 0 ) );		// GDO2 == 0
   00F8 75 82 F8            822 	mov	dpl,#0xF8
   00FB 12s00r00            823 	lcall	_cc1100_read1
   00FE E5 82               824 	mov	a,dpl
   0100 54 04               825 	anl	a,#0x04
   0102 FA                  826 	mov	r2,a
   0103 60 04               827 	jz	00104$
   0105                     828 00103$:
   0105 7A 00               829 	mov	r2,#0x00
   0107 80 02               830 	sjmp	00105$
   0109                     831 00104$:
   0109 7A 01               832 	mov	r2,#0x01
   010B                     833 00105$:
   010B 8A 82               834 	mov	dpl,r2
   010D 22                  835 	ret
                            836 ;------------------------------------------------------------
                            837 ;Allocation info for local variables in function 're_enter_rx'
                            838 ;------------------------------------------------------------
                            839 ;------------------------------------------------------------
                            840 ;	main.c:296: void re_enter_rx(){
                            841 ;	-----------------------------------------
                            842 ;	 function re_enter_rx
                            843 ;	-----------------------------------------
   010E                     844 _re_enter_rx:
                            845 ;	main.c:297: if ((radio_mode == RADIO_TX) && tx_finished())
   010E 74 02               846 	mov	a,#0x02
   0110 B5*00 0A            847 	cjne	a,_radio_mode,00104$
   0113 12s00rE9            848 	lcall	_tx_finished
   0116 E5 82               849 	mov	a,dpl
   0118 60 03               850 	jz	00104$
                            851 ;	main.c:298: start_rx();
   011A 02s00rB7            852 	ljmp	_start_rx
   011D                     853 00104$:
   011D 22                  854 	ret
                            855 ;------------------------------------------------------------
                            856 ;Allocation info for local variables in function 'handle_tx'
                            857 ;------------------------------------------------------------
                            858 ;tx_state                  Allocated with name '_handle_tx_tx_state_1_1'
                            859 ;tx_cnt                    Allocated with name '_handle_tx_tx_cnt_1_1'
                            860 ;x                         Allocated to registers 
                            861 ;------------------------------------------------------------
                            862 ;	main.c:322: void handle_tx(){
                            863 ;	-----------------------------------------
                            864 ;	 function handle_tx
                            865 ;	-----------------------------------------
   011E                     866 _handle_tx:
                            867 ;	main.c:329: switch (tx_state){
   011E E4                  868 	clr	a
   011F B5*04 02            869 	cjne	a,_handle_tx_tx_state_1_1,00121$
   0122 80 0E               870 	sjmp	00101$
   0124                     871 00121$:
   0124 74 01               872 	mov	a,#0x01
   0126 B5*04 02            873 	cjne	a,_handle_tx_tx_state_1_1,00122$
   0129 80 45               874 	sjmp	00107$
   012B                     875 00122$:
   012B 74 02               876 	mov	a,#0x02
                            877 ;	main.c:331: case TX_IDLE:
   012D B5*04 5D            878 	cjne	a,_handle_tx_tx_state_1_1,00113$
   0130 80 55               879 	sjmp	00111$
   0132                     880 00101$:
                            881 ;	main.c:333: if (got_eot) {
   0132 30*01 1C            882 	jnb	_got_eot,00105$
                            883 ;	main.c:334: tx_cnt = bufcnt;	/* = number of payload bytes to be transferred to TXFIFO (not counting address and length byte) */
                            884 ;	main.c:337: cc1100_write1(TX_fifo, tx_cnt + 1);
   0135 E5*02               885 	mov	a,_bufcnt
   0137 F5*05               886 	mov	_handle_tx_tx_cnt_1_1,a
   0139 04                  887 	inc	a
   013A F5*00               888 	mov	_cc1100_write1_PARM_2,a
   013C 75 82 3F            889 	mov	dpl,#0x3F
   013F 12s00r00            890 	lcall	_cc1100_write1
                            891 ;	main.c:340: cc1100_write1(TX_fifo, DEV_ADDR);	
   0142 75*00 01            892 	mov	_cc1100_write1_PARM_2,#0x01
   0145 75 82 3F            893 	mov	dpl,#0x3F
   0148 12s00r00            894 	lcall	_cc1100_write1
                            895 ;	main.c:342: tx_state = TX_COPY;
   014B 75*04 01            896 	mov	_handle_tx_tx_state_1_1,#0x01
                            897 ;	main.c:343: got_eot=0;
   014E C2*01               898 	clr	_got_eot
                            899 ;	main.c:345: break;
   0150 22                  900 	ret
   0151                     901 00105$:
                            902 ;	main.c:347: } else if ( bufcnt >= MAX_TX_PAYLOAD ) {
   0151 74 C4               903 	mov	a,#0x100 - 0x3C
   0153 25*02               904 	add	a,_bufcnt
   0155 50 36               905 	jnc	00113$
                            906 ;	main.c:350: tx_cnt = MAX_TX_PAYLOAD;	
   0157 75*05 3C            907 	mov	_handle_tx_tx_cnt_1_1,#0x3C
                            908 ;	main.c:353: cc1100_write1(TX_fifo, MAX_TX_PAYLOAD + 1);
   015A 75*00 3D            909 	mov	_cc1100_write1_PARM_2,#0x3D
   015D 75 82 3F            910 	mov	dpl,#0x3F
   0160 12s00r00            911 	lcall	_cc1100_write1
                            912 ;	main.c:356: cc1100_write1(TX_fifo, DEV_ADDR);	
   0163 75*00 01            913 	mov	_cc1100_write1_PARM_2,#0x01
   0166 75 82 3F            914 	mov	dpl,#0x3F
   0169 12s00r00            915 	lcall	_cc1100_write1
                            916 ;	main.c:358: tx_state = TX_COPY;
   016C 75*04 01            917 	mov	_handle_tx_tx_state_1_1,#0x01
                            918 ;	main.c:360: break;
                            919 ;	main.c:362: case TX_COPY:
   016F 22                  920 	ret
   0170                     921 00107$:
                            922 ;	main.c:364: if (tx_cnt > 0){
   0170 E5*05               923 	mov	a,_handle_tx_tx_cnt_1_1
   0172 60 0F               924 	jz	00109$
                            925 ;	main.c:365: x = buffer_out();
   0174 12s00r5F            926 	lcall	_buffer_out
   0177 85 82*00            927 	mov	_cc1100_write1_PARM_2,dpl
                            928 ;	main.c:366: cc1100_write1(TX_fifo, x);	
   017A 75 82 3F            929 	mov	dpl,#0x3F
   017D 12s00r00            930 	lcall	_cc1100_write1
                            931 ;	main.c:367: tx_cnt--;
   0180 15*05               932 	dec	_handle_tx_tx_cnt_1_1
   0182 22                  933 	ret
   0183                     934 00109$:
                            935 ;	main.c:370: tx_state = TX_SEND;
   0183 75*04 02            936 	mov	_handle_tx_tx_state_1_1,#0x02
                            937 ;	main.c:372: break;
                            938 ;	main.c:374: case TX_SEND:
   0186 22                  939 	ret
   0187                     940 00111$:
                            941 ;	main.c:375: start_tx();
   0187 12s00rD3            942 	lcall	_start_tx
                            943 ;	main.c:376: tx_state = TX_IDLE;
   018A 75*04 00            944 	mov	_handle_tx_tx_state_1_1,#0x00
                            945 ;	main.c:378: }
   018D                     946 00113$:
   018D 22                  947 	ret
                            948 ;------------------------------------------------------------
                            949 ;Allocation info for local variables in function 'check_etx'
                            950 ;------------------------------------------------------------
                            951 ;------------------------------------------------------------
                            952 ;	main.c:382: void check_etx(){
                            953 ;	-----------------------------------------
                            954 ;	 function check_etx
                            955 ;	-----------------------------------------
   018E                     956 _check_etx:
                            957 ;	main.c:383: if (got_etx) {	/* Is the sender waiting for an ACK ? */		
   018E 30*00 0F            958 	jnb	_got_etx,00105$
                            959 ;	main.c:384: if (has_room()){	/* Still enough space in buffer ? */
   0191 12s00r7E            960 	lcall	_has_room
   0194 E5 82               961 	mov	a,dpl
   0196 60 08               962 	jz	00105$
                            963 ;	main.c:385: got_etx = 0;		// Atomic Operation ! (see sdcc manual)
   0198 C2*00               964 	clr	_got_etx
                            965 ;	main.c:386: send_byte(ACK);
   019A 75 82 06            966 	mov	dpl,#0x06
   019D 02s00r00            967 	ljmp	_send_byte
   01A0                     968 00105$:
   01A0 22                  969 	ret
                            970 ;------------------------------------------------------------
                            971 ;Allocation info for local variables in function 'check_radio_packet'
                            972 ;------------------------------------------------------------
                            973 ;x                         Allocated with name '_check_radio_packet_x_1_1'
                            974 ;i                         Allocated to registers r2 
                            975 ;length                    Allocated with name '_check_radio_packet_length_1_1'
                            976 ;address                   Allocated with name '_check_radio_packet_address_1_1'
                            977 ;------------------------------------------------------------
                            978 ;	main.c:397: void check_radio_packet (){
                            979 ;	-----------------------------------------
                            980 ;	 function check_radio_packet
                            981 ;	-----------------------------------------
   01A1                     982 _check_radio_packet:
                            983 ;	main.c:401: if ( GDO0 ){
   01A1 30 86 6B            984 	jnb	_P0_6,00109$
                            985 ;	main.c:404: cc1100_read(RX_fifo|BURST, &length, 1);		// Length byte = payload length + 1
   01A4 75*00r07            986 	mov	_cc1100_read_PARM_2,#_check_radio_packet_length_1_1
   01A7 75*01 00            987 	mov	(_cc1100_read_PARM_2 + 1),#0x00
   01AA 75*02 40            988 	mov	(_cc1100_read_PARM_2 + 2),#0x40
   01AD 75*00 01            989 	mov	_cc1100_read_PARM_3,#0x01
   01B0 75 82 7F            990 	mov	dpl,#0x7F
   01B3 12s00r00            991 	lcall	_cc1100_read
                            992 ;	main.c:406: cc1100_read(RX_fifo|BURST, &address, 1); 	// Address byte (unused!)
   01B6 75*00r08            993 	mov	_cc1100_read_PARM_2,#_check_radio_packet_address_1_1
   01B9 75*01 00            994 	mov	(_cc1100_read_PARM_2 + 1),#0x00
   01BC 75*02 40            995 	mov	(_cc1100_read_PARM_2 + 2),#0x40
   01BF 75*00 01            996 	mov	_cc1100_read_PARM_3,#0x01
   01C2 75 82 7F            997 	mov	dpl,#0x7F
   01C5 12s00r00            998 	lcall	_cc1100_read
                            999 ;	main.c:409: for (i=0; i < (length - 1); i++){
   01C8 7A 00              1000 	mov	r2,#0x00
   01CA                    1001 00103$:
   01CA AB*07              1002 	mov	r3,_check_radio_packet_length_1_1
   01CC 7C 00              1003 	mov	r4,#0x00
   01CE 1B                 1004 	dec	r3
   01CF BB FF 01           1005 	cjne	r3,#0xff,00117$
   01D2 1C                 1006 	dec	r4
   01D3                    1007 00117$:
   01D3 8A 05              1008 	mov	ar5,r2
   01D5 7E 00              1009 	mov	r6,#0x00
   01D7 C3                 1010 	clr	c
   01D8 ED                 1011 	mov	a,r5
   01D9 9B                 1012 	subb	a,r3
   01DA EE                 1013 	mov	a,r6
   01DB 64 80              1014 	xrl	a,#0x80
   01DD 8C F0              1015 	mov	b,r4
   01DF 63 F0 80           1016 	xrl	b,#0x80
   01E2 95 F0              1017 	subb	a,b
   01E4 50 26              1018 	jnc	00106$
                           1019 ;	main.c:410: cc1100_read(RX_fifo|BURST, &x, 1);
   01E6 75*00r06           1020 	mov	_cc1100_read_PARM_2,#_check_radio_packet_x_1_1
   01E9 75*01 00           1021 	mov	(_cc1100_read_PARM_2 + 1),#0x00
   01EC 75*02 40           1022 	mov	(_cc1100_read_PARM_2 + 2),#0x40
   01EF 75*00 01           1023 	mov	_cc1100_read_PARM_3,#0x01
   01F2 75 82 7F           1024 	mov	dpl,#0x7F
   01F5 C0 02              1025 	push	ar2
   01F7 12s00r00           1026 	lcall	_cc1100_read
                           1027 ;	main.c:411: send_byte(x);
   01FA 85*06 82           1028 	mov	dpl,_check_radio_packet_x_1_1
   01FD 12s00r00           1029 	lcall	_send_byte
   0200 D0 02              1030 	pop	ar2
                           1031 ;	main.c:412: if (x == EOT)
   0202 74 04              1032 	mov	a,#0x04
   0204 B5*06 02           1033 	cjne	a,_check_radio_packet_x_1_1,00119$
   0207 80 03              1034 	sjmp	00106$
   0209                    1035 00119$:
                           1036 ;	main.c:409: for (i=0; i < (length - 1); i++){
   0209 0A                 1037 	inc	r2
   020A 80 BE              1038 	sjmp	00103$
   020C                    1039 00106$:
                           1040 ;	main.c:415: start_rx();	
   020C 02s00rB7           1041 	ljmp	_start_rx
   020F                    1042 00109$:
   020F 22                 1043 	ret
                           1044 ;------------------------------------------------------------
                           1045 ;Allocation info for local variables in function 'check_radio_input'
                           1046 ;------------------------------------------------------------
                           1047 ;length                    Allocated with name '_check_radio_input_length_1_1'
                           1048 ;address                   Allocated with name '_check_radio_input_address_1_1'
                           1049 ;n                         Allocated to registers r2 
                           1050 ;x                         Allocated with name '_check_radio_input_x_1_1'
                           1051 ;------------------------------------------------------------
                           1052 ;	main.c:437: void check_radio_input (){
                           1053 ;	-----------------------------------------
                           1054 ;	 function check_radio_input
                           1055 ;	-----------------------------------------
   0210                    1056 _check_radio_input:
                           1057 ;	main.c:444: if (length == 0){
   0210 E5*09              1058 	mov	a,_check_radio_input_length_1_1
   0212 70 34              1059 	jnz	00112$
                           1060 ;	main.c:445: n = cc1100_read_status_reg_otf(RXBYTES) & 0x7f;
   0214 75 82 FB           1061 	mov	dpl,#0xFB
   0217 12s00r00           1062 	lcall	_cc1100_read_status_reg_otf
   021A E5 82              1063 	mov	a,dpl
   021C 54 7F              1064 	anl	a,#0x7F
                           1065 ;	main.c:446: if (n > 2) {
   021E FA                 1066 	mov  r2,a
   021F 24 FD              1067 	add	a,#0xff - 0x02
   0221 40 01              1068 	jc	00122$
   0223 22                 1069 	ret
   0224                    1070 00122$:
                           1071 ;	main.c:447: cc1100_read(RX_fifo|BURST, &length, 1);		// Length byte = payload length + 1 address byte
   0224 75*00r09           1072 	mov	_cc1100_read_PARM_2,#_check_radio_input_length_1_1
   0227 75*01 00           1073 	mov	(_cc1100_read_PARM_2 + 1),#0x00
   022A 75*02 40           1074 	mov	(_cc1100_read_PARM_2 + 2),#0x40
   022D 75*00 01           1075 	mov	_cc1100_read_PARM_3,#0x01
   0230 75 82 7F           1076 	mov	dpl,#0x7F
   0233 12s00r00           1077 	lcall	_cc1100_read
                           1078 ;	main.c:448: cc1100_read(RX_fifo|BURST, &address, 1); 	// Address byte (unused!)
   0236 75*00r0A           1079 	mov	_cc1100_read_PARM_2,#_check_radio_input_address_1_1
   0239 75*01 00           1080 	mov	(_cc1100_read_PARM_2 + 1),#0x00
   023C 75*02 40           1081 	mov	(_cc1100_read_PARM_2 + 2),#0x40
   023F 75*00 01           1082 	mov	_cc1100_read_PARM_3,#0x01
   0242 75 82 7F           1083 	mov	dpl,#0x7F
   0245 02s00r00           1084 	ljmp	_cc1100_read
   0248                    1085 00112$:
                           1086 ;	main.c:455: if ( (cc1100_read_status_reg_otf(MARCSTATE) & 0x1f) == MARCSTATE_IDLE) {
   0248 75 82 F5           1087 	mov	dpl,#0xF5
   024B 12s00r00           1088 	lcall	_cc1100_read_status_reg_otf
   024E E5 82              1089 	mov	a,dpl
   0250 54 1F              1090 	anl	a,#0x1F
   0252 FB                 1091 	mov	r3,a
   0253 BB 01 28           1092 	cjne	r3,#0x01,00109$
                           1093 ;	main.c:456: while (length > 1) {
   0256                    1094 00103$:
   0256 E5*09              1095 	mov	a,_check_radio_input_length_1_1
   0258 24 FE              1096 	add	a,#0xff - 0x01
   025A 50 1C              1097 	jnc	00105$
                           1098 ;	main.c:457: cc1100_read(RX_fifo|BURST, &x, 1);
   025C 75*00r0B           1099 	mov	_cc1100_read_PARM_2,#_check_radio_input_x_1_1
   025F 75*01 00           1100 	mov	(_cc1100_read_PARM_2 + 1),#0x00
   0262 75*02 40           1101 	mov	(_cc1100_read_PARM_2 + 2),#0x40
   0265 75*00 01           1102 	mov	_cc1100_read_PARM_3,#0x01
   0268 75 82 7F           1103 	mov	dpl,#0x7F
   026B 12s00r00           1104 	lcall	_cc1100_read
                           1105 ;	main.c:458: send_byte(x);	
   026E 85*0B 82           1106 	mov	dpl,_check_radio_input_x_1_1
   0271 12s00r00           1107 	lcall	_send_byte
                           1108 ;	main.c:459: length--;
   0274 15*09              1109 	dec	_check_radio_input_length_1_1
   0276 80 DE              1110 	sjmp	00103$
   0278                    1111 00105$:
                           1112 ;	main.c:461: length = 0;
   0278 75*09 00           1113 	mov	_check_radio_input_length_1_1,#0x00
                           1114 ;	main.c:462: start_rx();	
   027B 02s00rB7           1115 	ljmp	_start_rx
   027E                    1116 00109$:
                           1117 ;	main.c:465: n = cc1100_read_status_reg_otf(RXBYTES) & 0x7f;	
   027E 75 82 FB           1118 	mov	dpl,#0xFB
   0281 12s00r00           1119 	lcall	_cc1100_read_status_reg_otf
   0284 E5 82              1120 	mov	a,dpl
   0286 54 7F              1121 	anl	a,#0x7F
                           1122 ;	main.c:468: if (n > 1){
   0288 FA                 1123 	mov  r2,a
   0289 24 FE              1124 	add	a,#0xff - 0x01
   028B 50 1A              1125 	jnc	00114$
                           1126 ;	main.c:469: cc1100_read(RX_fifo|BURST, &x, 1);
   028D 75*00r0B           1127 	mov	_cc1100_read_PARM_2,#_check_radio_input_x_1_1
   0290 75*01 00           1128 	mov	(_cc1100_read_PARM_2 + 1),#0x00
   0293 75*02 40           1129 	mov	(_cc1100_read_PARM_2 + 2),#0x40
   0296 75*00 01           1130 	mov	_cc1100_read_PARM_3,#0x01
   0299 75 82 7F           1131 	mov	dpl,#0x7F
   029C 12s00r00           1132 	lcall	_cc1100_read
                           1133 ;	main.c:470: send_byte(x);	
   029F 85*0B 82           1134 	mov	dpl,_check_radio_input_x_1_1
   02A2 12s00r00           1135 	lcall	_send_byte
                           1136 ;	main.c:471: length--;	
   02A5 15*09              1137 	dec	_check_radio_input_length_1_1
   02A7                    1138 00114$:
   02A7 22                 1139 	ret
                           1140 ;------------------------------------------------------------
                           1141 ;Allocation info for local variables in function 'main'
                           1142 ;------------------------------------------------------------
                           1143 ;------------------------------------------------------------
                           1144 ;	main.c:498: void main(void) {
                           1145 ;	-----------------------------------------
                           1146 ;	 function main
                           1147 ;	-----------------------------------------
   02A8                    1148 _main:
                           1149 ;	main.c:508: P0M1 &= 0x6c;		// 0110 1100 -> P0M1
   02A8 53 84 6C           1150 	anl	_P0M1,#0x6C
                           1151 ;	main.c:509: P0M2 |= 0x92;		// 1001 0010 -> P0M2
   02AB 43 85 92           1152 	orl	_P0M2,#0x92
                           1153 ;	main.c:511: P0 = 0x83;			// 1000 0011 -> Port0
   02AE 75 80 83           1154 	mov	_P0,#0x83
                           1155 ;	main.c:518: P1M1 &= 0x3e;		// 0011 1110
   02B1 53 91 3E           1156 	anl	_P1M1,#0x3E
                           1157 ;	main.c:519: P1M2 |= 0xcd;		// 1100 1101
   02B4 43 92 CD           1158 	orl	_P1M2,#0xCD
                           1159 ;	main.c:521: P1 = 0xcd;			// 1100 1101 -> Port1
   02B7 75 90 CD           1160 	mov	_P1,#0xCD
                           1161 ;	main.c:525: P3M1 &= 0xfe;
   02BA 53 B1 FE           1162 	anl	_P3M1,#0xFE
                           1163 ;	main.c:526: P3M2 |= 0x01;
   02BD 43 B2 01           1164 	orl	_P3M2,#0x01
                           1165 ;	main.c:528: P3 = 0;
   02C0 75 B0 00           1166 	mov	_P3,#0x00
                           1167 ;	main.c:549: AUXR1 |= (1<<6);
   02C3 43 A2 40           1168 	orl	_AUXR1,#0x40
                           1169 ;	main.c:551: RTCCON |= 1<<RTCS1;
   02C6 43 D1 40           1170 	orl	_RTCCON,#0x40
                           1171 ;	main.c:552: RTCCON |= 1<<RTCS0;
   02C9 43 D1 20           1172 	orl	_RTCCON,#0x20
                           1173 ;	main.c:553: RTCH = 0xff;
   02CC 75 D2 FF           1174 	mov	_RTCH,#0xFF
                           1175 ;	main.c:554: RTCL = 0xff;
   02CF 75 D3 FF           1176 	mov	_RTCL,#0xFF
                           1177 ;	main.c:556: initSerial(384);		// Serial baudrate 38400
   02D2 90 01 80           1178 	mov	dptr,#0x0180
   02D5 12s00r00           1179 	lcall	_initSerial
                           1180 ;	main.c:557: SSTAT |= (1<<CIDIS);	// Combined interrupt disabled, RX and TX generate different interrupts
   02D8 43 BA 20           1181 	orl	_SSTAT,#0x20
                           1182 ;	main.c:559: cc1100_init();
   02DB 12s00r00           1183 	lcall	_cc1100_init
                           1184 ;	main.c:561: ESR = 1;
   02DE D2 AC              1185 	setb	_IEN0_4
                           1186 ;	main.c:562: EA = 1;
   02E0 D2 AF              1187 	setb	_IEN0_7
                           1188 ;	main.c:622: got_etx = 0;
   02E2 C2*00              1189 	clr	_got_etx
                           1190 ;	main.c:623: got_eot = 0;
   02E4 C2*01              1191 	clr	_got_eot
                           1192 ;	main.c:625: buffer_init();
   02E6 12s00r00           1193 	lcall	_buffer_init
                           1194 ;	main.c:627: start_rx();								// Start receiving via radio
   02E9 12s00rB7           1195 	lcall	_start_rx
                           1196 ;	main.c:629: while (1) {						/* Forever: */
   02EC                    1197 00107$:
                           1198 ;	main.c:631: check_etx();
   02EC 12s01r8E           1199 	lcall	_check_etx
                           1200 ;	main.c:639: if (radio_mode == RADIO_RX)
   02EF 74 01              1201 	mov	a,#0x01
   02F1 B5*00 05           1202 	cjne	a,_radio_mode,00102$
                           1203 ;	main.c:642: check_radio_input();
   02F4 12s02r10           1204 	lcall	_check_radio_input
   02F7 80 03              1205 	sjmp	00103$
   02F9                    1206 00102$:
                           1207 ;	main.c:646: re_enter_rx();
   02F9 12s01r0E           1208 	lcall	_re_enter_rx
   02FC                    1209 00103$:
                           1210 ;	main.c:651: if (radio_mode != RADIO_TX)
   02FC 74 02              1211 	mov	a,#0x02
   02FE B5*00 02           1212 	cjne	a,_radio_mode,00116$
   0301 80 E9              1213 	sjmp	00107$
   0303                    1214 00116$:
                           1215 ;	main.c:652: handle_tx();
   0303 12s01r1E           1216 	lcall	_handle_tx
   0306 80 E4              1217 	sjmp	00107$
                           1218 	.area CSEG    (CODE)
                           1219 	.area CONST   (CODE)
                           1220 	.area XINIT   (CODE)
                           1221 	.area CABS    (ABS,CODE)
